FILE(GLOB_RECURSE _MLL_USER_HEADERS "*.h")
FILE(GLOB_RECURSE _MLL_USER_SOURCES "*.cpp")

FOREACH(_FILENAME ${_MLL_USER_SOURCES} ${_MLL_USER_HEADERS})
	# filtering unit test sources
    IF(NOT ${_FILENAME} MATCHES ".*\\_ut\\.cpp")
		# groupping sources by folder name
		STRING(REGEX REPLACE ".*mll/src/user/(.*)/.*" "\\1" _USER "${_FILENAME}")
		SOURCE_GROUP("${_USER}" "${_FILENAME}")
        SET(_MLL_USER_SOURCES_P ${_MLL_USER_SOURCES_P} ${_FILENAME})
    ENDIF()
ENDFOREACH()

SET(MLL_USER_SOURCES ${_MLL_USER_SOURCES} PARENT_SCOPE)
